/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Injectable, Inject } from '@angular/core';
import { Sheetload } from '@nowzoo/sheetload';
import { NGX_HIGHLIGHT_JS_DEFAULT_THEME, NGX_HIGHLIGHT_JS_URL } from './ngx-highlight-js-options';
import * as i0 from "@angular/core";
import * as i1 from "./ngx-highlight-js-options";
var NgxHighlightJsThemeService = /** @class */ (function () {
    function NgxHighlightJsThemeService(_defaultTheme, _jsURL) {
        this._defaultTheme = _defaultTheme;
        this._jsURL = _jsURL;
        this._theme = 'default';
        this._initializedPromise = null;
        this._linkEl = null;
        this._theme = _defaultTheme;
    }
    /**
     * @return {?}
     */
    NgxHighlightJsThemeService.prototype.initialized = /**
     * @return {?}
     */
    function () {
        if (!this._initializedPromise) {
            this._initializedPromise = this.loadTheme(this._theme);
        }
        return this._initializedPromise;
    };
    /**
     * @param {?} name
     * @return {?}
     */
    NgxHighlightJsThemeService.prototype.loadTheme = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        var _this = this;
        var /** @type {?} */ url = this._jsURL + "/styles/" + name + ".min.css";
        return Sheetload.load(url)
            .then(function (linkEl) {
            if (_this._linkEl) {
                _this._linkEl.remove();
            }
            _this._linkEl = linkEl;
            _this._linkEl.removeAttribute('disabled');
        });
    };
    Object.defineProperty(NgxHighlightJsThemeService.prototype, "theme", {
        get: /**
         * @return {?}
         */
        function () {
            return this._theme;
        },
        enumerable: true,
        configurable: true
    });
    NgxHighlightJsThemeService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    NgxHighlightJsThemeService.ctorParameters = function () { return [
        { type: String, decorators: [{ type: Inject, args: [NGX_HIGHLIGHT_JS_DEFAULT_THEME,] }] },
        { type: String, decorators: [{ type: Inject, args: [NGX_HIGHLIGHT_JS_URL,] }] }
    ]; };
    /** @nocollapse */ NgxHighlightJsThemeService.ngInjectableDef = i0.defineInjectable({ factory: function NgxHighlightJsThemeService_Factory() { return new NgxHighlightJsThemeService(i0.inject(i1.NGX_HIGHLIGHT_JS_DEFAULT_THEME), i0.inject(i1.NGX_HIGHLIGHT_JS_URL)); }, token: NgxHighlightJsThemeService, providedIn: "root" });
    return NgxHighlightJsThemeService;
}());
export { NgxHighlightJsThemeService };
function NgxHighlightJsThemeService_tsickle_Closure_declarations() {
    /** @type {?} */
    NgxHighlightJsThemeService.prototype._theme;
    /** @type {?} */
    NgxHighlightJsThemeService.prototype._initializedPromise;
    /** @type {?} */
    NgxHighlightJsThemeService.prototype._linkEl;
    /** @type {?} */
    NgxHighlightJsThemeService.prototype._defaultTheme;
    /** @type {?} */
    NgxHighlightJsThemeService.prototype._jsURL;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWhpZ2hsaWdodC1qcy10aGVtZS5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQG5vd3pvby9uZ3gtaGlnaGxpZ2h0LWpzLyIsInNvdXJjZXMiOlsibGliL25neC1oaWdobGlnaHQtanMtdGhlbWUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzlDLE9BQU8sRUFDTCw4QkFBOEIsRUFDOUIsb0JBQW9CLEVBQ3JCLE1BQU0sNEJBQTRCLENBQUM7Ozs7SUFTbEMsb0NBQ2tELGFBQXFCLEVBQy9CLE1BQWM7UUFESixrQkFBYSxHQUFiLGFBQWEsQ0FBUTtRQUMvQixXQUFNLEdBQU4sTUFBTSxDQUFRO3NCQUw3QyxTQUFTO21DQUNtQixJQUFJO3VCQUNkLElBQUk7UUFLN0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxhQUFhLENBQUM7S0FDN0I7Ozs7SUFFRCxnREFBVzs7O0lBQVg7UUFDRSxFQUFFLENBQUMsQ0FBQyxDQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7WUFDL0IsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztLQUNqQzs7Ozs7SUFFRCw4Q0FBUzs7OztJQUFULFVBQVUsSUFBWTtRQUF0QixpQkFVQztRQVRDLHFCQUFNLEdBQUcsR0FBTSxJQUFJLENBQUMsTUFBTSxnQkFBVyxJQUFJLGFBQVUsQ0FBQztRQUNwRCxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7YUFDdkIsSUFBSSxDQUFDLFVBQUMsTUFBdUI7WUFDNUIsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLEtBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7YUFDdkI7WUFDRCxLQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztZQUN0QixLQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUMxQyxDQUFDLENBQUM7S0FDTjtJQUVELHNCQUFJLDZDQUFLOzs7O1FBQVQ7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUNwQjs7O09BQUE7O2dCQW5DRixVQUFVLFNBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25COzs7OzZDQU1JLE1BQU0sU0FBQyw4QkFBOEI7NkNBQ3JDLE1BQU0sU0FBQyxvQkFBb0I7OztxQ0FoQmhDOztTQVVhLDBCQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU2hlZXRsb2FkIH0gZnJvbSAnQG5vd3pvby9zaGVldGxvYWQnO1xuaW1wb3J0IHtcbiAgTkdYX0hJR0hMSUdIVF9KU19ERUZBVUxUX1RIRU1FLFxuICBOR1hfSElHSExJR0hUX0pTX1VSTFxufSBmcm9tICcuL25neC1oaWdobGlnaHQtanMtb3B0aW9ucyc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIE5neEhpZ2hsaWdodEpzVGhlbWVTZXJ2aWNlIHtcbiAgX3RoZW1lID0gJ2RlZmF1bHQnO1xuICBfaW5pdGlhbGl6ZWRQcm9taXNlOiBQcm9taXNlPHZvaWQ+ID0gbnVsbDtcbiAgX2xpbmtFbDogSFRNTExpbmtFbGVtZW50ID0gbnVsbDtcbiAgY29uc3RydWN0b3IoXG4gICAgQEluamVjdChOR1hfSElHSExJR0hUX0pTX0RFRkFVTFRfVEhFTUUpIHByaXZhdGUgX2RlZmF1bHRUaGVtZTogc3RyaW5nLFxuICAgIEBJbmplY3QoTkdYX0hJR0hMSUdIVF9KU19VUkwpIHByaXZhdGUgX2pzVVJMOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy5fdGhlbWUgPSBfZGVmYXVsdFRoZW1lO1xuICB9XG5cbiAgaW5pdGlhbGl6ZWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCEgdGhpcy5faW5pdGlhbGl6ZWRQcm9taXNlKSB7XG4gICAgICB0aGlzLl9pbml0aWFsaXplZFByb21pc2UgPSB0aGlzLmxvYWRUaGVtZSh0aGlzLl90aGVtZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZFByb21pc2U7XG4gIH1cblxuICBsb2FkVGhlbWUobmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5fanNVUkx9L3N0eWxlcy8ke25hbWV9Lm1pbi5jc3NgO1xuICAgIHJldHVybiBTaGVldGxvYWQubG9hZCh1cmwpXG4gICAgICAudGhlbigobGlua0VsOiBIVE1MTGlua0VsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX2xpbmtFbCkge1xuICAgICAgICAgIHRoaXMuX2xpbmtFbC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saW5rRWwgPSBsaW5rRWw7XG4gICAgICAgIHRoaXMuX2xpbmtFbC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldCB0aGVtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl90aGVtZTtcbiAgfVxuXG59XG4iXX0=